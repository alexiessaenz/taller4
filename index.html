<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Dashboard</title>
    <link rel="icon" href="img/big-logo.png">
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css"
    />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Atkinson+Hyperlegible:wght@400;700&display=swap"
      rel="stylesheet"
    />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-0evHe/X+R7YkIZDRvuzKMRqM+OrBnVFBL6DOitfPri4tjfHxaWutUpFmBp4vmVor" crossorigin="anonymous">

    <!--CSS-->
    <style>
        #bottom {
          position: absolute;
          bottom: 0;
          left: 0;
        }
    
        .navbar-dark {
          background: #385B91;
        }
    
        body{
            background-color: #222c3fdc; /* For browsers that do not support gradients */
          background-image: linear-gradient(to bottom right, #222c3fdc, purple);
        }
        input,
        .card,
        .card-body,
        .card-head,
        .border {
          
          background: #222c3fdc;
          color: white;
        }
    
        a {
          color: white;
        }
      </style>
    </head>
    
    <!-- <body style="background: #151B27"> -->
    
    <body >
      <header>
        <nav class="navbar navbar-expand-md navbar-dark fixed-top ">
          <div class="container-fluid">
            <a margin=2 class="navbar-brand ps-xl-5" href="#">
              <svg id="out-session" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor"
                class="bi bi-box-arrow-right" viewBox="0 0 16 16">
                <path fill-rule="evenodd"
                  d="M10 12.5a.5.5 0 0 1-.5.5h-8a.5.5 0 0 1-.5-.5v-9a.5.5 0 0 1 .5-.5h8a.5.5 0 0 1 .5.5v2a.5.5 0 0 0 1 0v-2A1.5 1.5 0 0 0 9.5 2h-8A1.5 1.5 0 0 0 0 3.5v9A1.5 1.5 0 0 0 1.5 14h8a1.5 1.5 0 0 0 1.5-1.5v-2a.5.5 0 0 0-1 0v2z" />
                <path fill-rule="evenodd"
                  d="M15.854 8.354a.5.5 0 0 0 0-.708l-3-3a.5.5 0 0 0-.708.708L14.293 7.5H5.5a.5.5 0 0 0 0 1h8.793l-2.147 2.146a.5.5 0 0 0 .708.708l3-3z" />
              </svg> Library</a>
          </div>
        </nav>
      </header>
    
      <main role="main" style="margin: 5em 15em">
        <div id="app" class="d-flex-container">

        </div>
        
      </main>
    
      
    
      <!-- Bootstrap core JavaScript
     ================================================= 
       Placed at the end of the document so the pages load faster -->
      <!-- JavaScript Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/js/bootstrap.bundle.min.js" integrity="sha384-pprn3073KE6tl6bjs2QrFaJGz5/SUsLqktiwsUTF55Jfv3qYSDhgCecCxMW52nD2" crossorigin="anonymous"></script>
    
    <script>
        const API_URL = 'http://localhost:8080';
        const HTMLResponse = document.querySelector('#app');

        fetch(`${API_URL}/library/books/?page=0&limit=10`, {
                method: "POST",
                headers: {
                    "Content-type": "application/json;charset=UTF-8"
                }
            })
            .then((response) => response.json())
            .then((library) => {
            HTMLResponse.innerHTML   = library.map((book) =>   
                                               `<div class="card p-2 m-3">
                                                    <h5>${book.isbn}</h5> 
                                                    <h5>${book.title}</h5> 
                                                    <h5>${book.category.name}</h5> 
                                                    <h5>${(book.publishDate).substr(0,10)}</h5>
                                                </div>`).join('');
            });
    </script>
  </body>
</html>
